/*!
 * Buttery v1.2.2
 * https://github.com/liquidlight/buttery
 *
 * Copyright 2017 Mike Street & Liquid Light
 */
!function(t){t.fn.buttery=function(a){var r={parallaxSelector:".parallaxInner",scale:1.5,height:"image",scrollFraction:2,imageSrc:"background"};a=t.extend(r,a);var e=function(t){return t.object.css("height",t.wrapper.width()/t.options.ratio),t.maxTransform=t.object.innerHeight()*t.options.scale-t.wrapper.innerHeight(),t},i=function(t,a){var r=t.scrollTop();a.wrapper.offset().top>t.innerHeight()&&(r=t.scrollTop()+t.innerHeight()-a.wrapper.offset().top);var e=(r/=a.options.scrollFraction)>a.maxTransform?a.maxTransform:r<0?0:r;a.object.css("transform","translate3d(0, -"+e+"px, 0) scale("+a.options.scale+")")},o=function(r){var o=a,n="background"==a.imageSrc?r.css("backgroundImage"):r.find("img").attr("src");if(!n)return!1;n=n.replace("url(","").replace(")","").replace(/['"]+/g,""),r.addClass("hasButtery").prepend('<div class="'+o.parallaxSelector.replace(".","")+'" />');var s="static"==r.css("position")?"relative":r.css("position");if(r.css({position:s,overflow:"hidden",zIndex:"1"}),r.is("[data-buttery-scale]")&&(o.scale=r.attr("[data-buttery-scale]")),r.is("[data-buttery-scrollFraction]")&&(o.scrollFraction=r.attr("[data-buttery-scrollFraction]")),r.is("[data-buttery-height]")&&(o.height=r.attr("[data-buttery-height]")),r.is("[data-buttery-image]")&&(o.imagePath=r.attr("[data-buttery-image]")),"image"==o.height){var c=new Image;c.src=n,o.ratio=c.width/c.height,o.height=r.width()/o.ratio}else o.ratio=r.width()/o.height;"image"==a.imageSrc&&r.find("img").css({visibility:"hidden"});var l=r.find(o.parallaxSelector);l.css({transform:"translate3d(0, 0, 0) scale("+(o.scale<=0?.1:o.scale)+")",willChange:"transform",position:"absolute",top:"0",left:"0",width:"100%",minHeight:r.height(),height:o.height,transformOrigin:"top center",transition:"transform 5ms linear",zIndex:"-2",backgroundSize:r.css("backgroundSize"),backgroundImage:'url("'+n+'")',backgroundPosition:r.css("backgroundPosition"),backgroundRepeat:r.css("backgroundRepeat")});var h={options:o,wrapper:r,object:l};t(window).on("scroll.buttery",function(){i(t(this),h)}),t(window).on("resize.buttery",function(){h=e(h),i(t(this),h)}),h=e(h),i(t(this),h)},n=t(this);t(window).on("load.buttery",function(){n.each(function(){t(this).length&&o(t(this))})})}}(jQuery);