/*!
 * Buttery v1.1.2
 * https://github.com/liquidlight/buttery
 *
 * Copyright 2017 Mike Street & Liquid Light
 */
!function(t){t.fn.buttery=function(a){var r={parallaxSelector:".parallaxInner",scale:1.5,height:"image",scrollFraction:2,imageSrc:"background"};a=t.extend(r,a);var e=function(t,a){var r=t.scrollTop();a.wrapper.offset().top>t.innerHeight()&&(r=t.scrollTop()+t.innerHeight()-a.wrapper.offset().top);var e=(r/=a.options.scrollFraction)>a.maxTransform?a.maxTransform:r<0?0:r;a.object.css("transform","translate3d(0, -"+e+"px, 0) scale("+a.options.scale+")")},i=function(r){var i=a,n="background"==a.imageSrc?r.css("backgroundImage"):r.find("img").attr("src");if(!n)return!1;n=n.replace("url(","").replace(")","").replace(/['"]+/g,""),r.prepend('<div class="'+i.parallaxSelector.replace(".","")+'" />');var o="static"==r.css("position")?"relative":r.css("position");if(r.css({position:o,overflow:"hidden",zIndex:"1"}),r.is("[data-buttery-scale]")&&(i.scale=r.attr("[data-buttery-scale]")),r.is("[data-buttery-scrollFraction]")&&(i.scale=r.attr("[data-buttery-scrollFraction]")),r.is("[data-buttery-height]")&&(i.height=r.attr("[data-buttery-height]")),"image"==i.height){var s=new Image;s.src=n;var c=s.width/s.height;i.height=r.width()/c}"image"==a.imageSrc&&r.find("img").css({visibility:"hidden"});var l=r.find(i.parallaxSelector);l.css({transform:"translate3d(0, 0, 0) scale("+(i.scale<=0?.1:i.scale)+")",willChange:"transform",position:"absolute",top:"0",left:"0",width:"100%",height:i.height,transformOrigin:"top center",transition:"transform 5ms linear",zIndex:"-2",backgroundSize:r.css("backgroundSize"),backgroundImage:'url("'+n+'")',backgroundPosition:r.css("backgroundPosition"),backgroundRepeat:r.css("backgroundRepeat")});var g={options:i,wrapper:r,object:l,maxTransform:l.innerHeight()*i.scale-r.innerHeight()};t(window).on("scroll.buttery",function(){e(t(this),g)}),t(window).on("resize.buttery",function(){e(t(this),g)}),t(window).on("load.buttery",function(){e(t(this),g)})};t(this).each(function(){t(this).length&&i(t(this))})}}(jQuery);